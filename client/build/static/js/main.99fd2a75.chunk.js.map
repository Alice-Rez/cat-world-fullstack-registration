{"version":3,"sources":["components/context.jsx","components/Home.jsx","components/Login.jsx","components/Logout.jsx","components/Navigation.jsx","components/Products.jsx","components/ProfileInfo.jsx","components/Profile.jsx","components/RegisterFunction.jsx","components/Settings.jsx","components/Table.jsx","App.jsx","index.jsx"],"names":["loggContext","createContext","Home","className","Login","props","useState","loginData","setData","warning","setWarning","getData","e","target","name","value","onSubmit","preventDefault","console","log","Axios","method","url","data","then","res","logged","setIsLogged","setLoggedUser","uname","localStorage","setItem","setUserId","email","catch","err","htmlFor","type","id","aria-describedby","onInput","Logout","useEffect","userName","Navigation","context","useContext","to","data-toggle","data-target","aria-controls","aria-expanded","aria-label","visibility","Products","Component","ProfileInfo","user","getItem","Profile","Fragment","this","RegisterFunction","history","useHistory","msg","setMsg","warningContent","setWarningContent","getValue","msgChanged","reduce","acc","item","param","code","Object","keys","keyValue","push","encType","fullName","required","password","contextType","Settings","userID","preview","raw","image","setImage","success","setSuccess","photoSuccess","setPhotoSuccess","Array","isArray","profileImage","nModified","formData","FormData","append","src","alt","onChange","files","length","URL","createObjectURL","Table","users","setUsers","scope","map","index","key","username","fullname","Main","isLogged","loggedUser","Provider","path","root","document","getElementById","ReactDOM","render"],"mappings":"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","file":"static/js/main.99fd2a75.chunk.js","sourcesContent":["import { createContext } from \"react\";\n\nexport const loggContext = createContext();\n","import React from \"react\";\n\nexport default function Home() {\n  return (\n    <h1 className=\"display-2 text-success mx-auto my-5\">\n      Welcome to our site!\n    </h1>\n  );\n}\n","import Axios from \"axios\";\nimport React, { useState } from \"react\";\n\nexport default function Login(props) {\n  const [loginData, setData] = useState({});\n  const [warning, setWarning] = useState(false);\n\n  const getData = (e) => {\n    setWarning(false);\n    setData({ ...loginData, [e.target.name]: e.target.value });\n  };\n\n  const submit = (e) => {\n    e.preventDefault();\n    console.log(\"request send\", loginData);\n\n    Axios({\n      method: \"POST\",\n      url: \"/users/login\",\n      data: loginData,\n    })\n      .then((res) => {\n        console.log(res);\n        if (res.data.logged) {\n          props.setIsLogged(true);\n          props.setLoggedUser(res.data.uname);\n          // localStorage.setItem(\"isLogged\", true);\n          localStorage.setItem(\"userName\", res.data.uname);\n          props.setUserId(res.data.email);\n        } else {\n          setWarning(true);\n        }\n      })\n      .catch((err) => console.log(err));\n  };\n\n  return (\n    <div className=\"container\">\n      <h2 className=\"display-4 text-info py-3 text-left\">Login</h2>\n      <form onSubmit={submit}>\n        <div className=\"form-group\">\n          <label htmlFor=\"exampleInputEmail1\">Email address</label>\n          <input\n            type=\"mail\"\n            name=\"email\"\n            className=\"form-control\"\n            id=\"exampleInputEmail1\"\n            aria-describedby=\"emailHelp\"\n            onInput={getData}\n          />\n          <small id=\"emailHelp\" className=\"form-text text-muted\">\n            We'll never share your email with anyone else.\n          </small>\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"exampleInputPassword1\">Password</label>\n          <input\n            type=\"password\"\n            name=\"password\"\n            className=\"form-control\"\n            id=\"exampleInputPassword1\"\n            onInput={getData}\n          />\n        </div>\n        <div className=\"form-group form-check\">\n          <input\n            type=\"checkbox\"\n            className=\"form-check-input\"\n            id=\"exampleCheck1\"\n          />\n          <label className=\"form-check-label\" htmlFor=\"exampleCheck1\">\n            Check me out\n          </label>\n        </div>\n        <div className=\"text-right\">\n          <button type=\"submit\" className=\"btn btn-success btn-lg\">\n            Login\n          </button>\n        </div>\n      </form>\n      {warning ? (\n        <div className=\"alert-danger m-3 p-3\">\n          {\" \"}\n          Combination of the e-mail and password is not correct\n        </div>\n      ) : null}\n    </div>\n  );\n}\n","import React, { useEffect } from \"react\";\nimport Axios from \"axios\";\n\nexport default function Logout(props) {\n  useEffect(() => {\n    console.log(\"axios calling\");\n    Axios({\n      method: \"GET\",\n      url: \"/users/logout\",\n    })\n      .then((res) => {\n        console.log(res);\n        delete localStorage.userName;\n        // delete localStorage.isLogged;\n        props.setIsLogged(res.data.logged);\n      })\n      .catch((err) => console.log(err));\n  }, []);\n  return <div></div>;\n}\n","import React, { useContext } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { loggContext } from \"./context\";\n\nexport default function Navigation() {\n  const context = useContext(loggContext);\n  return (\n    <nav className=\"navbar navbar-expand-lg \">\n      <Link to=\"/home\" className=\"navbar-brand\">\n        Home\n      </Link>\n      <button\n        className=\"navbar-toggler\"\n        type=\"button\"\n        data-toggle=\"collapse\"\n        data-target=\"#navbarSupportedContent\"\n        aria-controls=\"navbarSupportedContent\"\n        aria-expanded=\"false\"\n        aria-label=\"Toggle navigation\"\n      >\n        <span>&#9776;</span>\n      </button>\n\n      <div className=\"collapse navbar-collapse\" id=\"navbarSupportedContent\">\n        <ul className=\"navbar-nav mr-auto\">\n          <li className=\"nav-item active\">\n            <Link to=\"/users\" className=\"nav-link\">\n              Users\n            </Link>\n          </li>\n          <li className=\"nav-item active\">\n            <Link to=\"/products\" className=\"nav-link\">\n              Products\n            </Link>\n          </li>\n          <li className=\"nav-item\">\n            <Link to=\"/profile\" className=\"nav-link\">\n              Profile\n            </Link>\n          </li>\n          {context.visibility ? (\n            <li className=\"nav-item\">\n              <Link to=\"/update\" className=\"nav-link\">\n                Settings\n              </Link>\n            </li>\n          ) : null}\n        </ul>\n        <div>\n          {context.visibility ? null : (\n            <Link to=\"/register\" className=\"nav-link\">\n              Sign up\n            </Link>\n          )}\n        </div>\n        <div>\n          {context.visibility ? (\n            <Link to=\"/log-out\" className=\"nav-link\">\n              Log out\n            </Link>\n          ) : (\n            <Link to=\"/log-in\" className=\"nav-link\">\n              Log in\n            </Link>\n          )}\n        </div>\n      </div>\n    </nav>\n  );\n}\n","import React, { Component } from \"react\";\n\nexport default class Products extends Component {\n  render() {\n    return <div>Here are our cool products</div>;\n  }\n}\n","import React, { useContext } from \"react\";\nimport { loggContext } from \"./context\";\n\nexport default function ProfileInfo() {\n  const user = localStorage.getItem(\"userName\");\n  return (\n    <div className=\"alert-success\">\n      Welcome {user}, here are your profile information\n    </div>\n  );\n}\n","import React, { Component } from \"react\";\nimport { loggContext } from \"./context\";\nimport ProfileInfo from \"./ProfileInfo\";\n\nexport default class Profile extends Component {\n  static contextType = loggContext;\n  render() {\n    return (\n      <React.Fragment>\n        {this.context.visibility ? (\n          <ProfileInfo />\n        ) : (\n          <div>The content is visible just for signed-in people</div>\n        )}\n      </React.Fragment>\n    );\n  }\n}\n","import Axios from \"axios\";\nimport React, { useState } from \"react\";\nimport { FaMagento, FaUserCircle } from \"react-icons/fa\";\nimport { useHistory } from \"react-router-dom\";\n\nexport default function RegisterFunction() {\n  const history = useHistory();\n\n  const [data, setData] = useState({});\n  const [msg, setMsg] = useState({});\n  const [warning, setWarning] = useState(false);\n  const [warningContent, setWarningContent] = useState(\"\");\n\n  const getValue = (e) => {\n    setWarning(false);\n    setData({ ...data, [e.target.name]: e.target.value });\n  };\n\n  const submit = (e) => {\n    e.preventDefault();\n\n    setMsg({});\n\n    Axios({\n      method: \"POST\",\n      url: \"/users/register\",\n      data: data,\n    })\n      .then((res) => {\n        console.log(res);\n        if (res.data.msg) {\n          let msgChanged = res.data.msg.reduce((acc, item) => {\n            acc[item.param] = true;\n            return acc;\n          }, {});\n          setMsg(msgChanged);\n        } else if (res.data.code === 11000) {\n          setWarningContent(Object.keys(res.data.keyValue)[0]);\n          setWarning(true);\n        } else {\n          history.push(\"/log-in\");\n        }\n      })\n      .catch((err) => console.log(err));\n  };\n\n  return (\n    <form className=\"container\" onSubmit={submit} encType=\"multipart/form-data\">\n      <h2 className=\"display-4 text-info py-3 text-left\">Registration</h2>\n      <div className=\"form-group\">\n        <label htmlFor=\"name\">Full Name</label>\n        <input\n          type=\"text\"\n          name=\"fullName\"\n          id=\"name\"\n          className=\"form-control\"\n          onInput={getValue}\n        />\n        {msg.fullName ? (\n          <small className=\"text-danger mt-1\">\n            Your full name shall contain just letters\n          </small>\n        ) : null}\n      </div>\n      <div className=\"form-group\">\n        <label htmlFor=\"mail\">E-mail</label>\n        <input\n          type=\"text\"\n          name=\"email\"\n          id=\"mail\"\n          required\n          className=\"form-control\"\n          onInput={getValue}\n        />\n        {msg.email ? (\n          <small className=\"text-danger mt-1\">\n            E-mail do not correspond to typical rules for email\n          </small>\n        ) : null}\n      </div>\n      <div className=\"form-group\">\n        <label htmlFor=\"date\">User name</label>\n        <input\n          type=\"text\"\n          name=\"uname\"\n          id=\"date\"\n          required\n          className=\"form-control\"\n          onInput={getValue}\n        />\n        {msg.uname ? (\n          <small className=\"text-danger mt-1\">\n            Please use just letters and numbers in your username\n          </small>\n        ) : null}\n      </div>\n      <div className=\"form-group\">\n        <label htmlFor=\"pwd\">Password</label>\n        <input\n          type=\"password\"\n          name=\"password\"\n          id=\"pwd\"\n          required\n          className=\"form-control\"\n          onInput={getValue}\n        />\n        {msg.password ? (\n          <small className=\"text-danger mt-1\">\n            Your password is too short, you need at least 10 characters\n          </small>\n        ) : null}\n      </div>\n      <div className=\"text-right\">\n        <button type=\"submit\" className=\"btn btn-success btn-lg\">\n          Register\n        </button>\n      </div>\n      {warning ? (\n        <div className=\"alert-danger m-3 p-3\">\n          User with this {warningContent} already exists, please log-in\n        </div>\n      ) : null}\n    </form>\n  );\n}\n","import React, { useState, useContext, useEffect } from \"react\";\nimport Axios from \"axios\";\nimport { loggContext } from \"./context\";\nimport { FaUserCircle } from \"react-icons/fa\";\n\nexport default function Settings() {\n  const { userID } = useContext(loggContext);\n  const [image, setImage] = useState({ preview: \"\", raw: \"\" });\n\n  const [data, setData] = useState({ userID });\n  const [success, setSuccess] = useState(false);\n  const [photoSuccess, setPhotoSuccess] = useState(false);\n  const [warning, setWarning] = useState(false);\n\n  useEffect(() => {\n    Axios({\n      method: \"GET\",\n      url: `users/info/${userID}`,\n    })\n      .then((res) => {\n        console.log(res);\n        if (Array.isArray(res.data)) {\n          setImage({ ...image, preview: res.data[0].profileImage });\n        } else {\n          console.log(\"you are not logged!\");\n        }\n      })\n      .catch((err) => console.log(err));\n  }, []);\n\n  const getValue = (e) => {\n    setSuccess(false);\n    setWarning(false);\n    setData({ ...data, [e.target.name]: e.target.value });\n  };\n\n  const getPhoto = (e) => {\n    if (e.target.files.length) {\n      setImage({\n        preview: URL.createObjectURL(e.target.files[0]),\n        raw: e.target.files[0],\n      });\n    }\n  };\n\n  const submit = (e) => {\n    e.preventDefault();\n    setSuccess(false);\n    setSuccess(false);\n    console.log(\"request send\", data);\n    Axios({\n      method: \"PUT\",\n      url: \"/users/updatePWD\",\n      data: data,\n    })\n      .then((res) => {\n        console.log(res);\n        if (res.data.nModified > 0) {\n          setSuccess(true);\n          // e.target.reset();\n        } else {\n          setWarning(true);\n        }\n      })\n      .catch((err) => console.log(err));\n  };\n\n  const submitPhoto = (e) => {\n    e.preventDefault();\n\n    let formData = new FormData();\n    formData.append(\"file\", image.raw);\n    formData.append(\"userID\", userID);\n\n    Axios({\n      method: \"PUT\",\n      url: \"/users/updatePhoto\",\n      data: formData,\n    })\n      .then((res) => {\n        console.log(res);\n        setPhotoSuccess(true);\n      })\n      .catch((err) => console.log(err));\n  };\n\n  return (\n    <div className=\"container\">\n      <h2 className=\"text-info py-3 text-left\">Change Password</h2>\n      <form onSubmit={submit}>\n        <div className=\"form-group\">\n          <label htmlFor=\"exampleInputEmail1\">Current Password</label>\n          <input\n            type=\"password\"\n            name=\"password\"\n            className=\"form-control\"\n            id=\"exampleInputEmail1\"\n            aria-describedby=\"emailHelp\"\n            onInput={getValue}\n          />\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"exampleInputPassword1\">New Password</label>\n          <input\n            type=\"password\"\n            name=\"newPassword\"\n            className=\"form-control\"\n            id=\"exampleInputPassword1\"\n            onInput={getValue}\n          />\n        </div>\n        <div className=\"text-right\">\n          <button type=\"submit\" className=\"btn btn-success btn-lg\">\n            Save\n          </button>\n        </div>\n      </form>\n      {success ? (\n        <div className=\"alert-success m-3 p-3\">Your password was changed</div>\n      ) : null}\n      {warning ? (\n        <div className=\"alert-danger m-3 p-3\">\n          Your password could not be changed, please make sure you are using\n          correct current password\n        </div>\n      ) : null}\n      <h2 className=\"text-info py-3 text-left\">Change profile photo</h2>\n      <form encType=\"multipart/form-data\" onSubmit={submitPhoto}>\n        <div className=\"image-input\">\n          <label\n            htmlFor=\"upload-button\"\n            className=\"mb-3 d-flex align-items-center\"\n          >\n            {image.preview ? (\n              <img\n                src={image.preview}\n                alt=\"profile-pic\"\n                className=\"rounded-circle ml-3 profile-photo\"\n              />\n            ) : (\n              <span>\n                <FaUserCircle className=\"display-2\" />\n              </span>\n            )}\n            <div className=\"ml-3\">\n              <h6>Upload photo</h6>\n              <small>image shall be in square format</small>\n            </div>\n          </label>\n\n          <input\n            type=\"file\"\n            name=\"userImg\"\n            className=\"d-none\"\n            id=\"upload-button\"\n            onChange={getPhoto}\n          />\n        </div>\n        <div className=\"text-right\">\n          <button type=\"submit\" className=\"btn btn-success btn-lg\">\n            Save\n          </button>\n        </div>\n      </form>\n      {photoSuccess ? (\n        <div className=\"alert-success m-3 p-3\">\n          Your profile photo was changed\n        </div>\n      ) : null}\n    </div>\n  );\n}\n","import React, { useState, useEffect } from \"react\";\nimport Axios from \"axios\";\n\nexport default function Table() {\n  const [users, setUsers] = useState([]);\n\n  useEffect(() => {\n    Axios({\n      method: \"GET\",\n      url: \"/users/all\",\n    })\n      .then((res) => {\n        console.log(res.data);\n        setUsers(res.data);\n      })\n      .catch((err) => console.log(err));\n  }, []);\n\n  return (\n    <main className=\"container d-flex justify-content-center py-5\">\n      <table className=\"table table-striped\">\n        <thead>\n          <tr>\n            <th scope=\"col\">E-mail</th>\n            <th scope=\"col\">User Name</th>\n            <th scope=\"col\">Full name</th>\n            <th scope=\"col\"> Photo</th>\n          </tr>\n        </thead>\n        <tbody>\n          {users.map((item, index) => {\n            return (\n              <tr key={index}>\n                <td>{item.email}</td>\n                <td>{item.username || item.uname}</td>\n                <td>{item.fullname || item.fullName}</td>\n                <td>\n                  <img\n                    src={item.profileImage}\n                    alt=\"\"\n                    className=\"profile-photo rounded-circle\"\n                  />\n                </td>\n              </tr>\n            );\n          })}\n        </tbody>\n      </table>\n    </main>\n  );\n}\n","import React, { useState } from \"react\";\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Redirect,\n} from \"react-router-dom\";\nimport { loggContext } from \"./components/context\";\nimport Home from \"./components/Home\";\nimport Login from \"./components/Login\";\nimport Logout from \"./components/Logout\";\nimport Navigation from \"./components/Navigation\";\nimport Products from \"./components/Products\";\nimport Profile from \"./components/Profile\";\nimport RegisterFunction from \"./components/RegisterFunction\";\nimport Settings from \"./components/Settings\";\nimport Table from \"./components/Table\";\n\nexport default function Main() {\n  const [isLogged, setIsLogged] = useState(false);\n  const [loggedUser, setLoggedUser] = useState(\"\");\n  const [userID, setUserId] = useState();\n\n  return (\n    <loggContext.Provider\n      value={{\n        visibility: isLogged,\n        user: loggedUser,\n        userID: userID,\n      }}\n    >\n      <Router>\n        <Navigation />\n        <Switch>\n          <Route path=\"/home\">\n            <Home />\n          </Route>\n          <Route path=\"/users\">\n            <Table />\n          </Route>\n          <Route path=\"/register\">\n            {isLogged ? <Redirect to=\"/profile\" /> : <RegisterFunction />}\n          </Route>\n          <Route path=\"/profile\">\n            <Profile />\n          </Route>\n          <Route path=\"/update\">\n            {isLogged ? <Settings /> : <Redirect to=\"/log-in\" />}\n          </Route>\n          <Route path=\"/log-in\">\n            {isLogged ? (\n              <Redirect to=\"/profile\" />\n            ) : (\n              <Login\n                setIsLogged={setIsLogged}\n                setLoggedUser={setLoggedUser}\n                setUserId={setUserId}\n              />\n            )}\n          </Route>\n          <Route path=\"/log-out\">\n            {isLogged ? (\n              <Logout setIsLogged={setIsLogged} />\n            ) : (\n              <Redirect to=\"/log-in\" />\n            )}\n          </Route>\n          <Route path=\"/products\">\n            <Products />\n          </Route>\n          <Route path=\"*\">\n            <Redirect to=\"/home\" />\n          </Route>\n        </Switch>\n      </Router>\n    </loggContext.Provider>\n  );\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"../node_modules/bootstrap/dist/css/bootstrap.css\";\nimport \"./style.css\";\n\nlet root = document.getElementById(\"root\");\nReactDOM.render(<App />, root);\n"],"sourceRoot":""}